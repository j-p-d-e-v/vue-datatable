(function(s,e){typeof exports=="object"&&typeof module<"u"?e(exports,require("vue")):typeof define=="function"&&define.amd?define(["exports","vue"],e):(s=typeof globalThis<"u"?globalThis:s||self,e(s.VDataTablePlugin={},s.Vue))})(this,function(s,e){"use strict";const _={id:"v-data-table-container"},b={class:"mb-1",align:"right"},y={class:"float-left"},w={key:0,class:"font-semibold uppercase text-gray-600 mt-1 text-sm"},k=["id"],u={class:"w-full text-gray-600 border-collapse table-layout"},x=["width","id"],E={class:"w-full relative select-none"},V=["onClick","id"],B=["id"],N={class:"w-full"},C=["onClick"],S=["onClick"],D={class:"p-2 border-b-1 border-gray-300 text-xs text-left pb-4"},M=["onUpdate:modelValue"],T=["value"],$=["onUpdate:modelValue"],F={key:0,align:"right",class:"mt-3"},z=["onClick"],L={class:"v-data-table"},j={class:"mt-2 text-sm text-gray-700"},U={class:"font-light text-xs"},f=e.defineComponent({__name:"DataTable",props:{columns:{default:()=>[]},rows:{default:()=>[]},column_classes:{},row_classes:{},search_classes:{},current_page:{default:()=>1},total_pages:{default:()=>1},height:{default:()=>200},title:{}},emits:["page-selected","search","sort-by","show-column-filter","apply-filter"],setup(d,{emit:O}){const P=e.ref("pt-2 pr-3 pb-2 pl-3 text-xs font-semibold uppercase bg-gray-50 border-gray-300 border-1"),W=e.ref("pt-2 pr-3 pb-2 pl-3 text-xs border-gray-300 border-1"),q=e.ref("text-sm border-gray-300 border-1 w-70"),I=e.ref(`vdtable-${Math.floor(new Date().getTime()*(Math.random()*1e3))}`),i=e.ref(""),p=e.ref(null),a=d,n=O;function K(o){const l=o.target;n("page-selected",l.value,i.value)}function G(o){return o??0}function h(o,l){return l??o}function H(o){p.value!==null&&clearTimeout(p.value),p.value=setTimeout(()=>{const l=o.target;n("search",l.value)},1e3)}function g(o){let l={field:o.value,order:o.sort_order};n("sort-by",l),o.sort_order=o.sort_order==="ASC"?"DESC":"ASC"}function J(o){if(o.show_menu)o.show_menu=!1;else{a.columns.forEach(t=>t.show_menu=!1);const l=document.getElementById(`${o.value}-label`);if(l){let t=l.offsetLeft-l.offsetWidth-70;o.style=`left: ${t>0?t:0}px;`,o.show_menu=!0,n("show-column-filter",o)}}}function Q(o){let l=o.filter_other??o.filter_value,t={field:o.value,value:l};n("apply-filter",t)}return(o,l)=>(e.openBlock(),e.createElementBlock("div",_,[e.createElementVNode("div",b,[e.createElementVNode("div",y,[a.title?(e.openBlock(),e.createElementBlock("h3",w,e.toDisplayString(a.title),1)):e.createCommentVNode("",!0)]),e.createElementVNode("div",{class:e.normalizeClass(h(q.value,a.search_classes))},[l[1]||(l[1]=e.createElementVNode("span",{class:"float-left ml-2 mt-[5px]"},[e.createElementVNode("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"lucide lucide-search-icon lucide-search"},[e.createElementVNode("path",{d:"m21 21-4.34-4.34"}),e.createElementVNode("circle",{cx:"11",cy:"11",r:"8"})])],-1)),e.withDirectives(e.createElementVNode("input",{type:"search","onUpdate:modelValue":l[0]||(l[0]=t=>i.value=t),onKeyup:H,class:"float-left p-1 pr-3 pl-3 w-[90%] outline-none",placeholder:"Seach here"},null,544),[[e.vModelText,i.value]]),l[2]||(l[2]=e.createElementVNode("div",{style:{clear:"both"}},null,-1))],2)]),e.createElementVNode("div",{class:"relative overflow-auto border-1 border-gray-300",style:e.normalizeStyle(`height:${a.height}px`),id:I.value},[e.createElementVNode("table",u,[e.createElementVNode("thead",null,[e.createElementVNode("tr",null,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(a.columns,(t,c)=>(e.openBlock(),e.createElementBlock("th",{class:e.normalizeClass(h(P.value,t.classes)),width:G(t.width),key:c,id:`${t.label}-column`},[e.createElementVNode("div",E,[e.createElementVNode("span",{onClick:r=>J(t),id:`${t.value}-label`,class:"cursor-pointer hover:text-cyan-800"},e.toDisplayString(t.label),9,V),t.show_menu?(e.openBlock(),e.createElementBlock("div",{key:0,class:e.normalizeClass("shadow-lg h-auto z-index-9 border-1 border-gray-200 bg-white rounded-md mt-1 w-[300px] absolute"),style:e.normalizeStyle(t.style),id:`${t.value}-menu`},[e.createElementVNode("ul",N,[t.sortable?(e.openBlock(),e.createElementBlock(e.Fragment,{key:0},[t.sort_order==="ASC"?(e.openBlock(),e.createElementBlock("li",{key:0,class:"p-2 border-b-1 border-gray-300 text-xs hover:bg-gray-100 hover:cursor-pointer hover:text-cyan-800",onClick:r=>g(t)},l[3]||(l[3]=[e.createStaticVNode('<span class="float-left"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-arrow-down-wide-narrow-icon lucide-arrow-down-wide-narrow"><path d="m3 16 4 4 4-4"></path><path d="M7 20V4"></path><path d="M11 4h10"></path><path d="M11 8h7"></path><path d="M11 12h4"></path></svg></span><span class="float-left ml-3">Sort(Ascending)</span><div style="clear:both;"></div>',3)]),8,C)):e.createCommentVNode("",!0),t.sort_order==="DESC"?(e.openBlock(),e.createElementBlock("li",{key:1,class:"p-2 border-b-1 border-gray-300 text-xs hover:bg-gray-100 hover:cursor-pointer hover:text-cyan-800",onClick:r=>g(t)},l[4]||(l[4]=[e.createStaticVNode('<span class="float-left"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-arrow-up-narrow-wide-icon lucide-arrow-up-narrow-wide"><path d="m3 8 4-4 4 4"></path><path d="M7 4v16"></path><path d="M11 12h4"></path><path d="M11 16h7"></path><path d="M11 20h10"></path></svg></span><span class="float-left ml-3">Sort(Descending)</span><div style="clear:both;"></div>',3)]),8,S)):e.createCommentVNode("",!0)],64)):e.createCommentVNode("",!0),e.createElementVNode("li",D,[l[6]||(l[6]=e.createElementVNode("span",{class:"font-semilight text-[10px]"},"Filter",-1)),e.createElementVNode("div",null,[e.withDirectives(e.createElementVNode("select",{class:"w-full font-normal border-1 border-gray-300 p-1 mb-2 mt-1","onUpdate:modelValue":r=>t.filter_value=r},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(t.filter_options,(r,m)=>(e.openBlock(),e.createElementBlock("option",{key:m,value:r.value},e.toDisplayString(r.label),9,T))),128))],8,M),[[e.vModelSelect,t.filter_value]])]),e.createElementVNode("div",null,[l[5]||(l[5]=e.createElementVNode("span",{class:"font-semilight text-[10px]"},"Other, please specify:",-1)),e.withDirectives(e.createElementVNode("input",{"onUpdate:modelValue":r=>t.filter_other=r,type:"text",class:"border-1 text-xs font-normal p-1 border-gray-300 w-full",placeholder:"Enter custom value"},null,8,$),[[e.vModelText,t.filter_other]])]),t.filter_value??t.filter_other?(e.openBlock(),e.createElementBlock("div",F,[e.createElementVNode("button",{onClick:r=>Q(t),class:"p-1 border-1 border-gray-200 pl-3 pr-3 uppercase font-semibold hover:bg-gray-200 hover:cursor-pointer rounded-sm bg-gray-100 text-[10px]"},"apply",8,z)])):e.createCommentVNode("",!0)])])],12,B)):e.createCommentVNode("",!0)])],10,x))),128))])]),e.createElementVNode("tbody",L,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(a.rows,(t,c)=>(e.openBlock(),e.createElementBlock("tr",{key:c},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(a.columns,(r,m)=>(e.openBlock(),e.createElementBlock("td",{class:e.normalizeClass(h(W.value,t.classes)),key:m},e.toDisplayString(t[r.value]),3))),128))]))),128))])])],12,k),e.createElementVNode("div",j,[e.createElementVNode("select",{onChange:K,class:"pt-1 pb-1 pl-3 text-xs font-semibold text-gray-600 border-gray-300 lowecase border-1"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(a.total_pages,(t,c)=>(e.openBlock(),e.createElementBlock("option",{key:c},e.toDisplayString(t),1))),128))],32),e.createElementVNode("span",U," / "+e.toDisplayString(o.total_pages)+" pages",1)])]))}}),A={install(d){d.component("DataTable",f)}};s.DataTable=f,s.default=A,Object.defineProperties(s,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})});
